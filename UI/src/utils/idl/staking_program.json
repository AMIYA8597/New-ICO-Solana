{"version":"0.1.0","name":"jckp_staking","instructions":[{"name":"initialize","accounts":[{"name":"stakingAccount","isMut":true,"isSigner":true},{"name":"admin","isMut":true,"isSigner":true},{"name":"tokenMint","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"lockupPeriod","type":"u64"},{"name":"lowTierFee","type":"f64"},{"name":"midTierFee","type":"f64"},{"name":"highTierFee","type":"f64"}]},{"name":"update","accounts":[{"name":"stakingAccount","isMut":true,"isSigner":false},{"name":"admin","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"lockupPeriod","type":"u64"},{"name":"lowTierFee","type":"f64"},{"name":"midTierFee","type":"f64"},{"name":"highTierFee","type":"f64"}]},{"name":"stakeTokens","accounts":[{"name":"stakingAccount","isMut":true,"isSigner":false},{"name":"stakeRecord","isMut":true,"isSigner":true},{"name":"stakerInfo","isMut":true,"isSigner":false},{"name":"stakerTokenAccount","isMut":true,"isSigner":false},{"name":"adminStakingWallet","isMut":true,"isSigner":false},{"name":"staker","isMut":true,"isSigner":true},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"},{"name":"couponCode","type":{"option":"string"}}]},{"name":"unstakeCombined","accounts":[{"name":"stakingAccount","isMut":true,"isSigner":false},{"name":"stakeRecord","isMut":true,"isSigner":false},{"name":"stakerTokenAccount","isMut":true,"isSigner":false},{"name":"adminStakingWallet","isMut":true,"isSigner":false},{"name":"tokenMint","isMut":true,"isSigner":false},{"name":"stakerInfo","isMut":true,"isSigner":false},{"name":"staker","isMut":true,"isSigner":true},{"name":"owner","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"generateMonthlyReport","accounts":[{"name":"stakingAccount","isMut":true,"isSigner":false}],"args":[]},{"name":"createCoupon","accounts":[{"name":"stakingAccount","isMut":true,"isSigner":false},{"name":"admin","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"code","type":"string"},{"name":"bonusType","type":{"defined":"CouponType"}},{"name":"bonusValue","type":"f64"},{"name":"duration","type":"u64"},{"name":"minStakeAmount","type":"u64"},{"name":"maxUses","type":"u64"},{"name":"couponCategory","type":{"defined":"CouponCategory"}}]}],"accounts":[{"name":"StakingAccount","type":{"kind":"struct","fields":[{"name":"lockupPeriod","type":"u64"},{"name":"totalStaked","type":"u64"},{"name":"endTimestamp","type":"u64"},{"name":"tokenMint","type":"publicKey"},{"name":"admin","type":"publicKey"},{"name":"lowTierFee","type":"f64"},{"name":"midTierFee","type":"f64"},{"name":"highTierFee","type":"f64"},{"name":"activeCoupons","type":{"vec":{"defined":"Coupon"}}}]}},{"name":"StakerInfo","type":{"kind":"struct","fields":[{"name":"owner","type":"publicKey"},{"name":"totalStaked","type":"u64"},{"name":"spinCount","type":"u8"},{"name":"spinEligibilityTier","type":"u8"},{"name":"stakedAmount","type":"u64"},{"name":"stakeTimestamp","type":"u64"}]}},{"name":"StakeRecord","type":{"kind":"struct","fields":[{"name":"owner","type":"publicKey"},{"name":"amount","type":"u64"},{"name":"stakeTimestamp","type":"u64"},{"name":"endTimestamp","type":"u64"},{"name":"tier","type":"u8"},{"name":"spinCount","type":"u8"},{"name":"spinEligibilityTier","type":"u8"},{"name":"isInitialized","type":"bool"}]}}],"types":[{"name":"Coupon","type":{"kind":"struct","fields":[{"name":"code","type":"string"},{"name":"bonusType","type":{"defined":"CouponType"}},{"name":"bonusValue","type":"f64"},{"name":"startTimestamp","type":"u64"},{"name":"endTimestamp","type":"u64"},{"name":"minStakeAmount","type":"u64"},{"name":"maxUses","type":"u64"},{"name":"currentUses","type":"u64"},{"name":"couponCategory","type":{"defined":"CouponCategory"}},{"name":"isActive","type":"bool"}]}},{"name":"CouponCategory","type":{"kind":"enum","variants":[{"name":"NewUser"},{"name":"Referral"},{"name":"LoyaltyReward"},{"name":"SeasonalPromo"},{"name":"Exclusive"}]}},{"name":"CouponType","type":{"kind":"enum","variants":[{"name":"Percentage"},{"name":"FixedAmount"},{"name":"SpinBonus"}]}}],"events":[{"name":"PartialUnstakeEvent","fields":[{"name":"stakerKey","type":"publicKey","index":false},{"name":"staker","type":"publicKey","index":false},{"name":"stakedBefore","type":"u64","index":false},{"name":"stakedAfter","type":"u64","index":false},{"name":"unstakedAmount","type":"u64","index":false},{"name":"rewardAmount","type":"u64","index":false},{"name":"earlyWithdrawal","type":"bool","index":false},{"name":"penaltyRate","type":"f64","index":false},{"name":"timestamp","type":"u64","index":false}]},{"name":"StakeEvent","fields":[{"name":"stakerKey","type":"publicKey","index":false},{"name":"staker","type":"publicKey","index":false},{"name":"stakedBefore","type":"u64","index":false},{"name":"stakedAfter","type":"u64","index":false},{"name":"stakedAmount","type":"u64","index":false},{"name":"rewardFeePercent","type":"f64","index":false},{"name":"spinCount","type":"u8","index":false},{"name":"timestamp","type":"u64","index":false}]},{"name":"UnstakeEvent","fields":[{"name":"stakerKey","type":"publicKey","index":false},{"name":"staker","type":"publicKey","index":false},{"name":"stakedBefore","type":"u64","index":false},{"name":"stakedAfter","type":"u64","index":false},{"name":"unstakedAmount","type":"u64","index":false},{"name":"rewardAmount","type":"u64","index":false},{"name":"spinEligibilityAfter","type":"u8","index":false},{"name":"spinCount","type":"u8","index":false},{"name":"timestamp","type":"u64","index":false}]},{"name":"CouponEvent","fields":[{"name":"code","type":"string","index":false},{"name":"bonusType","type":{"defined":"CouponType"},"index":false},{"name":"bonusValue","type":"f64","index":false},{"name":"startTimestamp","type":"u64","index":false},{"name":"endTimestamp","type":"u64","index":false},{"name":"couponCategory","type":{"defined":"CouponCategory"},"index":false},{"name":"timestamp","type":"u64","index":false}]}],"errors":[{"code":6000,"name":"StakingPeriodEnded","msg":"Staking period has ended."},{"code":6001,"name":"EarlyUnstake","msg":"Early unstaking is not allowed."},{"code":6002,"name":"InsufficientBalance","msg":"Insufficient balance for staking."},{"code":6003,"name":"InsufficientStake","msg":"Insufficient staked amount."},{"code":6004,"name":"Overflow","msg":"Overflow error."},{"code":6005,"name":"Underflow","msg":"Underflow error."},{"code":6006,"name":"Unauthorized","msg":"Unauthorized access."},{"code":6007,"name":"InvalidRewardFeePercentages","msg":"Invalid reward fee percentages."},{"code":6008,"name":"MustUnstakeFullAmount","msg":"You must unstake the full amount."},{"code":6009,"name":"InvalidCouponParameters","msg":"Invalid coupon parameters."},{"code":6010,"name":"InvalidCouponCode","msg":"Invalid coupon code."},{"code":6011,"name":"ExpiredCoupon","msg":"Coupon has expired."},{"code":6012,"name":"CouponUsageExceeded","msg":"Coupon usage limit exceeded."},{"code":6013,"name":"InsufficientStakeForCoupon","msg":"Insufficient stake amount for coupon use."},{"code":6014,"name":"EarlyUnstakeNotAllowed","msg":"Early unstaking is not allowed."},{"code":6015,"name":"InvalidStakeNonce","msg":"Invalid stake nonce."},{"code":6016,"name":"CouponArrayLimitExceeded","msg":"Coupon array limit exceeded."}]}